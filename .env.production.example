# ChoreQuest Production Environment (.env.production)
# Copy this file to `.env.production` and adjust the values for your infrastructure.

# ============================================================================
# Supabase Configuration (matches the bundled supabase-docker stack)
# ============================================================================
# When self-hosting with the files in `supabase-docker/`, the API gateway is
# published through Kong on ports 5550/5551 and reachable via HTTPS behind your
# reverse proxy. Replace the example domains below with your own.
NEXT_PUBLIC_SUPABASE_URL=https://supabase.example.com    # Browser/client requests
SUPABASE_INTERNAL_URL=https://supabase.example.com       # Server-to-Supabase calls
SUPABASE_URL=https://supabase.example.com                # CLI/tests (fallback for SUPABASE_INTERNAL_URL)

# Copy the JWT tokens generated by Supabase (anon/public + service role),
# signed by the same JWT secret configured in supabase-docker/.env.
NEXT_PUBLIC_SUPABASE_ANON_KEY=replace-with-your-anon-key
SUPABASE_SERVICE_ROLE_KEY=replace-with-your-service-role-key
JWT_SECRET=replace-with-your-supabase-jwt-secret
POSTGRES_PASSWORD=replace-with-your-postgres-password

# ============================================================================
# Database Credentials for initial bootstrap (OPTION C - self-hosted Supabase)
# ============================================================================
DB_HOST=supabase-db
DB_PORT=5553
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=replace-with-your-postgres-password

# ============================================================================
# Application Configuration
# ============================================================================
PORT=5555                                           # Exposed via docker-compose.prod.yml
NEXTAUTH_URL=https://app.example.com                 # Public URL of the ChoreQuest app
CRON_SECRET=replace-with-your-cron-secret            # Shared secret for scheduled jobs
ENABLE_DB_BOOTSTRAP=true                            # Runs Prisma migrations + seed on first boot
